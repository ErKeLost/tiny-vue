/**
 * Copyright (c) 2022 - present TinyVue Authors.
 * Copyright (c) 2022 - present Huawei Cloud Computing Technologies Co., Ltd.
 *
 * Use of this source code is governed by an MIT-style license.
 *
 * THE OPEN SOURCE SOFTWARE IN THIS PRODUCT IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL,
 * BUT WITHOUT ANY WARRANTY, WITHOUT EVEN THE IMPLIED WARRANTY OF MERCHANTABILITY OR FITNESS FOR
 * A PARTICULAR PURPOSE. SEE THE APPLICABLE LICENSES FOR MORE DETAILS.
 *
 */
@import '../mixins/tooltip.less';
@import '../custom.less';

@tooltip-prefix-cls: ~'@{css-prefix}tooltip';

.@{tooltip-prefix-cls} {
  &:focus:hover,
  &:focus:not(.focusing) {
    outline-width: 0;
  }

  &&__popper {
    position: absolute;
    left: -9999px;
    border-radius: 4px;
    box-shadow: var(--ti-tip-box-shadow);
    padding: 11px 15px;
    font-size: 12px;
    line-height: 1.2;
    min-width: 10px;
    max-width: 450px;
    z-index: 2000;
    word-wrap: break-word;

    .popper__arrow,
    .popper__arrow::after {
      position: absolute;
      display: block;
      width: 0;
      height: 0;
      border-color: transparent;
      border-style: solid;
    }

    .popper__arrow {
      border-width: 6px;
    }

    .popper__arrow::after {
      content: ' ';
      border-width: 5px;
    }

    &[x-placement^='top'] {
      margin-bottom: 12px;

      .popper__arrow {
        bottom: -6px;
        border-top-color: var(--ti-tip-bg-color);
        border-bottom-width: 0;

        &::after {
          bottom: 1px;
          margin-left: -5px;
          border-top-color: var(--ti-tip-bg-color);
          border-bottom-width: 0;
        }
      }
    }

    &[x-placement^='bottom'] {
      margin-top: 12px;

      .popper__arrow {
        top: -6px;
        border-top-width: 0;
        border-bottom-color: var(--ti-tip-bg-color);

        &::after {
          top: 1px;
          margin-left: -5px;
          border-top-width: 0;
          border-bottom-color: var(--ti-tip-bg-color);
        }
      }
    }

    &[x-placement^='right'] {
      margin-left: 12px;

      .popper__arrow {
        left: -6px;
        border-right-color: var(--ti-tip-bg-color);
        border-left-width: 0;

        &::after {
          bottom: -5px;
          left: 1px;
          border-right-color: var(--ti-tip-bg-color);
          border-left-width: 0;
        }
      }
    }

    &[x-placement^='left'] {
      margin-right: 12px;

      .popper__arrow {
        right: -6px;
        border-right-width: 0;
        border-left-color: var(--ti-tip-bg-color);

        &::after {
          right: 1px;
          bottom: -5px;
          margin-left: -5px;
          border-right-width: 0;
          border-left-color: var(--ti-tip-bg-color);
        }
      }
    }

    &.is-normal {
      .tooltip-type(#fff, #666, #666);
    }

    &.is-info {
      .tooltip-type(#fff, #69c0ff, #69c0ff);
    }

    &.is-error {
      .tooltip-type(#fff, var(--ti-tip-bg-color), var(--ti-tip-bg-color));
    }

    &.is-warning {
      .tooltip-type(#fff, #ffd666, #ffd666);
    }

    &.is-success {
      .tooltip-type(#fff, #95de64, #95de64);
    }

    &.is-dark {
      background: var(--ti-tip-bg-color);
      color: #fff;
    }

    &.is-light {
      .tooltip-light(var(--ti-tip-bg-color), #fff, var(--ti-tip-bg-color));
    }

    &.is-blank-content {
      display: none;
    }
  }
}

.@{css-prefix} {
  &fade-in-linear-enter-active,
  &fade-in-linear-leave-active {
    transition: opacity 0.2s linear;
  }

  &fade-in-linear-enter,
  &fade-in-linear-enter-from,
  &fade-in-linear-leave,
  &fade-in-linear-leave-from,
  &fade-in-linear-leave-active {
    opacity: 0;
  }

  &fade-in-enter-active,
  &fade-in-leave-active {
    transition: all 0.3s cubic-bezier(0.55, 0, 0.1, 1);
  }

  &fade-in-enter,
  &fade-in-enter-from,
  &fade-in-leave-active {
    opacity: 0;
  }
}
